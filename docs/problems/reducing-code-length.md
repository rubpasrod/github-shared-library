# Optimizing Our CI/CD Pipeline
## Introduction
This document outlines a significant improvement in our project's Continuous Integration and Continuous Deployment (CI/CD) pipeline. In the past, our approach to integrating various tools led to considerable challenges, primarily concerning the length and complexity of our pipeline configuration. This document details the problems we faced and the  solution we have implemented.

## The Challenge: One Job Per Tool
Our initial strategy for incorporating quality and analysis tools into our workflow was to create a dedicated job for each tool. It quickly led to a number of problems as our project grew and the number of integrated tools increased.

The primary issues we encountered were:

**Excessive Code Length and Duplication**: 
Our preflight configuration file became excessively long and difficult to navigate. Each job definition shared a significant amount of configuration. This duplication made the pipeline verbose and hard to maintain.
**Increased Maintenance Overhead**: 
Whenever a change was needed in the common, updating or changing anything had to be replicated across numerous job definitions. This manual and repetitive process was error-prone and time-consuming.
**Poor Scalability**: 
Adding a new tool to our workflow meant adding yet another block of configuration. This approach did not scale well.

**ðŸ˜¨ We needed to do this for each tool ðŸ˜¨**
![No matrix](/docs/assets/reduce-length/no-matrix.png) 

## Solution
The solution we found was to use the ```strategy: matrix``` feature within GitHub Actions. This feature allows us to define a set of variables that GitHub Actions uses to generate jobs automatically. In our case, we can define a list of the tools we want to run.

This allows us to create a single job definition that acts as a "template". This template contains all the shared configuration. The matrix then takes each tool from our list and creates a separate job from this template, substituting the tool-specific details where needed.

## Benefits:
**Drastically Reduced Code**: 
The workflow file is now concise. We define the shared setup once in our template job.
**Simplified Maintenance**: 
To change the installation process, we only need to edit one place. The change is then automatically applied to all the jobs generated by the matrix.
**Effortless Scalability**: 
Adding a new tool is as simple as adding its name to the matrix definition. The pipeline automatically expands to include a job for the new tool without any code duplication.
**Improved Readability**: 
The workflow is now much easier to read and understand.

**ðŸ¤¯ðŸ¥³ Here it is the final result ðŸ¥³ðŸ¤¯**
![Matrix](/docs/assets/reduce-length/matrix.png) 